<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div th:fragment="contact-us-message-replies" class="container mt-5">
        <h2 class="mb-4">Message Replies</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Receiver Email</th>
                    <th>Contact Us ID</th>
                    <th>Subject</th>
                    <th>Message</th>
                    <th>Sent At</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="reply : ${message.replies}" role="button">
                    <td th:text="${reply.id}"></td>
                    <td th:text="${reply.receiverEmail}"></td>
                    <td th:text="${message.contactUsId}"></td>
                    <td th:text="${reply.subject}"></td>
                    <td th:text="${reply.excerpt}"></td>
                    <td th:text="${reply.sentAt?.format(@dateTimeFormatter)}"></td>
                    <td class="d-flex flex-row">
                        <a th:href="@{/dashboard/messages/replies/detail/{id}(id=${reply.id})}" class="info-button button-sm me-2">View</a>
                        <a th:href="@{/dashboard/messages/replies/edit-and-resend/{id}(id=${reply.id})}" class="warning-button button-sm me-2">Resend</a>
                        <a th:href="@{/dashboard/messages/replies/delete/{id}(id=${reply.id})}" class="danger-button button-sm" onclick="return confirm('Are you sure you want to delete this reply?');">Delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <a  th:href="@{/dashboard/messages/replies/form/{id}(id=${message.contactUsId})}" class="success-button">Add New Reply</a>
    </div>
</body>
</html>